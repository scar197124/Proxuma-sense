<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Proxuma Sense</title>
<style>
:root{ --neon:#00ff66; }

body.dark{
  --bg:#0b0f0d;
  --panel:#111815;
  --text:#e8f5ee;
  --muted:#9fb8aa;
  --accent:var(--neon);
}

body.light{
  --bg:#ffffff;
  --panel:#f5f5f5;
  --text:#0b0f0d;
  --muted:#444;
  --accent:#000000;
}

body{
  font-family:system-ui,-apple-system,BlinkMacSystemFont,sans-serif;
  background:var(--bg);
  color:var(--text);
  display:flex;
  align-items:center;
  justify-content:center;
  min-height:100vh;
  margin:0;
  padding:20px;
  box-sizing:border-box;
}

.container{
  background:var(--panel);
  border:1px solid var(--accent);
  border-radius:14px;
  max-width:720px;
  width:100%;
  padding:34px 42px 36px;
}

.title{
  font-size:44px;
  font-weight:700;
  text-align:center;
  letter-spacing:0.6px;
  color:var(--accent);
}
.subtitle{
  font-size:22px;
  text-align:center;
  margin-top:6px;
  letter-spacing:1.5px;
}

.canonical-wrap{
  text-align:center;
  margin-bottom:18px;
}

.canonical-btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:6px 14px;
  font-size:12px;
  border-radius:999px;
  border:1.5px solid var(--accent);
  color:var(--accent);
  background:transparent;
  text-decoration:none;
  letter-spacing:.35px;
  transition:background .15s ease, box-shadow .15s ease, transform .15s ease;
}

.canonical-btn:hover{
  background:rgba(0,255,102,0.08);
  box-shadow:0 0 8px rgba(0,255,102,0.4);
  transform:translateY(-1px);
}

.themeRow{
  margin-top:14px;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  font-size:13px;
  color:var(--muted);
}

.toggle{
  position:relative;
  width:44px;
  height:22px;
}
.toggle input{
  opacity:0;
  width:0;
  height:0;
}
.slider{
  position:absolute;
  cursor:pointer;
  top:0; left:0; right:0; bottom:0;
  background:transparent;
  border:1px solid var(--accent);
  border-radius:999px;
  transition:.2s;
}
.slider:before{
  position:absolute;
  content:"";
  height:16px;
  width:16px;
  left:3px;
  bottom:2px;
  background:var(--accent);
  border-radius:50%;
  transition:.2s;
}
input:checked + .slider:before{
  transform:translateX(20px);
}

.divider{
  margin:22px 0;
  height:1px;
  background:var(--accent);
}

label{font-size:14px;color:var(--muted)}
input[type=text]{
  width:100%;
  padding:13px 14px;
  margin-top:6px;
  font-size:16px;
  border-radius:10px;
  border:1px solid var(--accent);
  background:transparent;
  color:var(--text);
  box-sizing:border-box;
}
button{
  margin-top:14px;
  width:100%;
  padding:13px;
  font-size:16px;
  border-radius:12px;
  border:1px solid var(--accent);
  background:transparent;
  color:var(--text);
  cursor:pointer;
}
button:hover{opacity:0.85}

.result{
  display:none;
  margin-top:18px;
  padding:18px;
  border-radius:12px;
  border:1px solid var(--accent);
  line-height:1.55;
}
.pill{
  display:inline-block;
  padding:4px 12px;
  border-radius:999px;
  font-size:12px;
  margin-bottom:8px;
  border:1px solid var(--accent);
}
ul{margin:6px 0 0 18px}
li{margin:6px 0}
.mono{font-family:ui-monospace,Menlo,Consolas,monospace;font-size:13px}
.status{
  margin-top:18px;
  font-size:12px;
  color:var(--muted);
  text-align:center;
  letter-spacing:0.6px;
}
</style>
</head>

<body class="dark">
<div class="container">

  <div class="canonical-wrap">
    <!-- FIXED LINK -->
    <a href="https://scar197124.github.io/PROXUMA/" class="canonical-btn">Proxuma</a>
  </div>

  <div class="title">Proxuma Sense</div>
  <div class="subtitle">Perception before classification</div>

  <div class="themeRow">
    <span>Dark</span>
    <label class="toggle">
      <input type="checkbox" id="themeToggle">
      <span class="slider"></span>
    </label>
    <span>Light</span>
  </div>

  <div class="divider"></div>

  <label>Paste a link to examine</label>
  <input id="link" type="text" placeholder="https://example.com">
  <button id="checkBtn">Check link</button>

  <div id="result" class="result"></div>

  <div class="status">Presentation Mode · Sense</div>
</div>

<script>
function escapeHTML(s){return s.replace(/[&<>"']/g,m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#039;'}[m]))}
function parseInput(raw){
  const txt = raw.trim();
  if(!txt) return {ok:false,msg:"Please paste a link first."};
  let candidate = txt;
  if(!/^https?:\/\//i.test(candidate)) candidate = "https://" + candidate;
  try{ const u = new URL(candidate); return {ok:true,input:txt,url:u}; }
  catch{ return {ok:false,msg:"That doesn’t look like a valid URL format."}; }
}
const BRANDS=["paypal"];
function looksLikeBrandAnywhere(host){
  const labels=host.split(".");
  for(const label of labels){
    for(const b of BRANDS){
      if(label===b) continue;
      const numeric=b.replace(/l/g,"1").replace(/o/g,"0");
      if(label===numeric||label.includes(numeric)) return b;
    }
  }
  return null;
}
function detectSignals(parsed){
  const u=parsed.url; const host=u.hostname.toLowerCase(); const signals=[];
  if(/^\d{1,3}(?:\.\d{1,3}){3}$/.test(host))
    signals.push("Link uses an IP address instead of a domain name.");
  if(/,/.test(parsed.input))
    signals.push("The link contains a comma. Commas are not valid in domain names.");
  if(!/\.[a-z]{2,}$/i.test(host))
    signals.push("The domain does not end with a standard top-level domain.");
  if(host.includes("0"))
    signals.push("The hostname contains the number '0', which can mimic the letter 'o'.");
  const brand=looksLikeBrandAnywhere(host);
  if(brand)
    signals.push("The hostname contains a look-alike of the brand '"+brand+"'.");
  return {host,signals};
}
function render(parsed,det){
  const box=document.getElementById("result");
  box.style.display="block";
  let html='<div class="pill">Light</div>';
  html+='<div class="mono">'+escapeHTML(parsed.input)+'</div>';
  html+='<div class="mono" style="margin-top:6px">hostname: '+escapeHTML(det.host)+'</div>';
  if(det.signals.length){
    html+='<div style="margin-top:10px"><strong>Observable signals:</strong><ul>';
    det.signals.forEach(s=>html+='<li>'+escapeHTML(s)+'</li>');
    html+='</ul></div>';
  }else{
    html+='<div style="margin-top:10px"><strong>Observable signals:</strong> none detected from the text alone.</div>';
  }
  html+='<div class="pill" style="margin-top:14px">Shield</div>';
  html+='<div>Nothing here requires immediate action. Take a moment to review what you’re seeing.</div>';
  box.innerHTML=html;
}
document.getElementById("checkBtn").onclick=()=>{
  const raw=document.getElementById("link").value;
  const parsed=parseInput(raw);
  const box=document.getElementById("result");
  if(!parsed.ok){
    box.style.display="block";
    box.innerHTML='<div class="pill">Shield</div>'+escapeHTML(parsed.msg);
    return;
  }
  render(parsed,detectSignals(parsed));
};
document.getElementById("link").addEventListener("keydown",e=>{
  if(e.key==="Enter") document.getElementById("checkBtn").click();
});
document.getElementById("themeToggle").addEventListener("change",e=>{
  document.body.classList.toggle("dark");
  document.body.classList.toggle("light");
});
</script>
</body>
</html>
